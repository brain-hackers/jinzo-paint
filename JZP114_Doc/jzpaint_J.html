<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<HTML>
<HEAD>
<META charset="UTF-8">
<title>JINZO Paint documentation</title>
<LINK REL="STYLESHEET" TYPE="text/css" HREF="jzpaint.css">
<LINK REL="ICON" HREF="favicon.ico" />
</HEAD>

<BODY>

<H1>JINZO Paint version 1.14 について</H1>

<P>
</P>

<H2>1. 概要</H2>
<P>
　JINZO PAINT (4階調グレー版)は、WindowsCE で動作する、ペイント系のお絵描きツールです。<BR>
　基本的な描画、カットアンドペースト、ルーペ、塗りつぶし、直線・矩形・楕円描画、セーブ/ ロード機能に
加えて、強力な色演算機能を搭載しています。<BR>
　扱えるデータは、実画面サイズの4階調データのみです。<BR><BR>
　作者の環境での開発および動作確認は、CASSIOPEIA E-55 および Jornada720 で行っています。
</P>

<H2>2. 画面イメージ</H2>
<P>
<center>
<IMG SRC="loope.gif">　　　
<IMG SRC="cut_paste.gif">
</center>
</P>

<H2>3. インストール方法</H2>
<P>
　インストールの場合は、JZPaint.exe を WindowsCE の任意のフォルダにコピーしてください。<BR>
　アンインストールの場合は、JZPaint.exe を WindowsCE から削除してください。<BR>
　レジストリに対する操作は、本プログラムでは行っていません。
</P>

<H2>4. 機能説明</H2>
<CENTER>
<table>
<TR><TD><IMG SRC="command.gif"></TD>
<TD>
<OL>
　<LI> <A HREF="#FILE">Fileメニュー</A>
　<LI> <A HREF="#HENSHUU">Editメニュー</A>
　<LI> <A HREF="#TOOL">ツール選択</A>
　<LI> <A HREF="#PEN">ペンのサイズ</A>
　<LI> <A HREF="#PEN">ペンの色</A>
　<LI> <A HREF="#PEN">ペンのパターン</A>
　<LI> <A HREF="#PEN">消しゴムのサイズ</A>
　<LI> <A HREF="#LOOPE">ルーペ</A>
　<LI> <A HREF="#UNDO">アンドゥ</A>
</OL>
</TD>
</TR>
</table>
</CENTER>
<P>
　上図が、JINZO Paint の画面です。スタイラスペンで、中央の白い部分に絵を描くことが出来ます。
サイズは実画面サイズで、PsPCではタスクバー表示状態で 240 x 270 ピクセルです。<BR>
　上部メニューバーで、機能を切り替えることが出来ます。
</P>

<H3><A NAME="FILE">(1) Fileメニュー</a></H3>
<P>
　プルダウンメニューで、以下の機能を使用できます。<BR>
<UL>
<LI>Open...<BR>
　画像データをロードします。<BR>
　2, 4, 8, 16, 24 bit/pixelの無圧縮BMPを扱うことが出来ますが、4階調グレーに変換されます。<BR>
　任意のサイズの画像をロードできますが、実画面サイズより小さい場合は左上詰めで余白部分は白となります。
また、大きい場合は切り捨てられます。<BR>
<LI>Save As...<BR>
　画像データを、2bpフォーマットでファイル名を指定してセーブします。<BR>
<LI>Save<BR>
　画像データを2bpフォーマットで上書きセーブします。Save As...を実行した後でのみ実行可能です。<BR>
<LI>Load CustomTone<BR>
　カスタムトーンをロードします。<BR>
<LI>Clear All<BR>
　編集画面全体を白で塗りつぶします。<BR>
<LI>About<BR>
　アバウトダイアログを表示します。<BR>
<LI>End　<BR>
　JINZO Paintを終了します。<BR>
</UL>
<p>
　<a href="http://tillanosoft.com/ce">Tillanosoft</a>さん作の<a href="http://tillanosoft.com/ce/downloadsj.html">tGetFile.dll</a>に対応していますので、
PsPC、PocketPC、PocketPostPetの場合はtGetFile.dllをインストールすることにより
操作性の向上が期待できます。
</P>

<H3><A NAME="HENSHUU">(2) Editメニュー</A></H3>
<P>
　プルダウンメニューで、以下の機能を使用できます。<BR>
<UL>
<LI>Select RectArea<BR>
　矩形領域を選択します。
<LI>Select FreeArea<BR>
　不定形領域を選択します。
<LI>Select All<BR>
　全領域を選択します。
<LI>MagicWand<BR>
　タップした座標と同色の連続領域を選択します。連続して指定可能です。<BR>
<LI>Cut<BR>
　Select RectArea, Select FreeArea, Select All, MagicWand のいずれかで選択した領域を ClipBoard にコピーし、
その領域を白で塗りつぶします。<BR>
　また、ClipBoard のデータを画面に表示し、ドラッグ（スタイラスペンで移動させること）にて移動可能な状態にします。
<LI>Copy<BR>
　Cut と同様ですが、選択した領域の白での塗りつぶしを行いません。
<LI>Paste<BR>
　画面に表示した ClipBoard のデータを、編集画像に描き込みます。
<LI>Show Clipboard<BR>
　ClipBoard のデータを画面に表示し、ドラッグ（スタイラスペンで移動させること）にて移動可能な状態にします。
<LI>Cansel<BR>
　Cut&Paste の操作をキャンセルし、ペン描画モードに移行します。


<LI>Flip/Rotate<BR>
　画面に表示されている ClipBoard のデータに対して、回転・反転、加工を指定します。以下のサブメニューを持ちます。
  <UL>
<LI>Flip Vertical<BR>　上下反転
<LI>Flip Horizontal<BR>　左右反転
<LI>Rotate Left<BR>　左回転
<LI>Rotate Right<BR>　右回転
<LI>Reverse<BR>　選択領域反転
<LI>Trace Edge<BR>　投げ縄。選択領域の外周に接する白の連続領域を選択領域の対象外にする
<LI>Omit White<BR>　白抜き。選択領域内の白の部分を選択領域の対象外にする
<LI>Expand<BR>　選択領域を1ドット拡張する
  </UL>

<LI>BackGround Color<BR>
　ペン描画時の背景色を指定します。詳細は<A HREF="#BG_COLOR">別項(背景色設定)</A>にて説明します。

<LI>Color Convert<BR>
　表示されているClipBoard のデータに対する色変換の設定を行います。詳細は<A HREF="#C_CONVERT">別項(色変換機能)</A>にて説明します。

<LI>Palette Option<BR>
　元画像の色と描画色との色演算機能の設定を行います。詳細は<A HREF="#C_OPTION">別項(色演算機能)</A>にて説明します。
</UL>
</P>
<center><IMG SRC="cut_paste.gif"></center>

<H3><A NAME="TOOL">(3) ツール選択</A></H3>
<P>
　プルダウンメニューで、以下のツールを選択できます。
<UL>
<LI>Pen<BR>
　ペン描画モードです。

<LI>Erase<BR>
　消しゴムモードです。

<LI>Hand<BR>
　画面をドラッグすることにより、編集画像をスクロールします。

<LI>Paint<BR>
　塗りつぶしを行います。塗りつぶし色とパターンは、ボタンで選択しているものが適用されます。

<LI>Font<BR>
　文字を描画します。選択し、画面をタップするとダイアログが開きます。ダイアログでは、以下の項目が指定可能です。
  <UL>
<LI>Font:<BR>　フォント種を指定します。
<LI>Size:<BR>　フォントサイズを指定します。
<LI>(中央の入力ボックス)<BR>　文字を入力します。複数行の入力が可能です。
<LI>BaseLine:<BR>　複数行の入力の場合の、行間隔を指定します。
<LI>Alignment:<BR>　複数行の入力の場合の、文字揃えを指定します。左揃え、中央、右揃えの指定が可能です。
<LI>Italic:<BR>　斜体を指定します。
<LI>Bold:<BR>　太字体を指定します。
  </UL>
　各項目を入力して OK を選択すると、ClipBoard に文字列が描画され、開始時にタップした座標に表示されます。
描画したい場所までドラッグして、Cut&Paste の Paste コマンドで編集画像に描画してください。
<LI>Line<BR>
　直線・矩形・楕円の描画を行います。線種・色・塗りつぶしパターンは、ボタンで選択されているものが
適用されます。以下のサブメニューを持ちます。
  <UL>
<LI>LINE<BR>　直線
<LI>Rectangle<BR>　矩形
<LI>Rectangle Fill<BR>　塗りつぶされた矩形
<LI>Circle<BR>　楕円
<LI>Circle Fill<BR>　塗りつぶされた楕円
  </UL>
PsPC の場合、アクションボタンを押している間は、直線は水平・垂直線に、矩形は正方形に、楕円は正円になります。
</UL>
</P>

<H3><A NAME="PEN">(4) ペンのサイズ、(5) ペンの色、(6) ペンのパターン、(7) 消しゴムのサイズ</A></H3>
<center><IMG SRC="pen.gif"></center><BR>
<P>
　(4)を押すことで、ペンのサイズを変更できます。<BR><BR>
　(5)を押すことで、ペンの色を変更できます。<BR><BR>
　(6)を押すことで、ペンのパターンを変更できます。<BR>
</P>
<center><IMG SRC="pattern.gif"></center><BR>
<P>
　ペンのスタイルは、100%, 87.5%, 75%, 62.5%, 50%, 37.5%, 25%, 12.5%, カスタムトーン の9種類が有ります。<BR>
　密度が100%未満の場合は所々間引かれていますが、間引かれたドットは背景色（BackGround Colorダイアログで指定した色）となります。（上図（上）は背景色＝無色(None)）<BR>
　上図(下）は75%と25%の上に50%で描いたものですが、密度の大きいスタイルの上に密度の小さいスタイルで描いても、密度は元の大きい密度のままとなります。<BR>
　Reverse を選択すると、パターンが反転します。<BR>
　カスタムトーンは、Load CustomToneコマンドで指定された画像データの左上16x16ピクセルのパターンを２値のスタイルとして使用します。この画像データはJINZO Paintで描画・セーブしたものが使用可能です。<BR><BR>
　(7)を押すことで、消しゴムのサイズを変更できます。<BR>
　消しゴムは、色＝白、パターン＝100%です。<BR>
　消しゴムを選択した時の直前のペンのサイズ、色、スタイルの設定は残るため、再度ペンボタン押す、またはツールボタンから Pen を選択することでその設定から描画を再開できます。
</P>

<H3><A NAME="LOOPE">(8) ルーペ</A></H3>
<P>
　ルーペモードにより、拡大イメージでの編集が可能です。<BR>
　拡大率は、1倍(通常)、2倍、3倍、4倍、8倍から設定出来ます。<BR>
　1倍以外の場合は、x1view をチェックすることで左上に原寸イメージが表示されます。<BR>
　原寸表示指定は各倍率で個別に保存され、起動時は2倍は非表示、3,4,8倍は表示となっています。<BR>
　Handツール、またはカーソルキーでスクロールできます。また、1倍ではスクロール座標は原点に戻ります。<BR>　
</P>
<center><IMG SRC="loope.gif"><BR>(この絵は、<A HREF="http://www.scargo.com/pae">ぱえ</A>作成のデータです）
</center><BR>

<H3><A NAME="UNDO">(9) アンドゥ</A></H3>
<P>
　各種の描画に対して、１回の取り消しが出来ます。
</P>


<H3><A NAME="BG_COLOR">背景色設定</A></H3>
<P>
　ペン描画時の背景色を設定します。
</P>
<center><IMG SRC="bgc1.gif"></center><BR>
<P>
　Editメニューから BackGround Color を選ぶと、上図のダイアログが開きます。<BR>
　透明色および黒,濃,薄,白のラジオボタンがあります。パターンが100%以下の場合、ここで指定した色が背景色となります。
</P>
<center><IMG SRC="bgc2.gif"></center><BR>
<P>
　上図は(上)背景色＝無色、上図(下)は背景色＝薄での描画例です。
</P>


<H3><A NAME="C_CONVERT">色変換機能</A></H3>
<P>
　表示中の ClipBoard データに対する、色の変換を設定します。
</P>
<center><IMG SRC="cconvert.gif"></center><BR>
<P>
　編集から Color Convert を選ぶと、上図のダイアログが開きます。<BR>
　上から黒,濃,薄,白と4つの描画色があり、それぞれに4つの変換色に対するラジオボタンがあります。
上図では、黒→黒、濃→白、薄→濃、白→白に設定しています。<BR><BR>
　ここで、例を見てください。<BR>
　アタリ（下絵）を描く例です。<BR>
</P>
<center><IMG SRC="atari.gif"></center><BR>
<P>
<OL>
<LI> 薄で下絵を描きます。<BR>
<LI> 黒で主線を描きます。<BR>
<LI> Select RectArea → Copy で、対象を ClipBoard にコピーします。<BR>
<LI> 薄→白をチェックすることで薄の部分が白に変換されるので、これを Paste することでアタリ線を消すことが出来ます。<BR>
</OL>
</P>

<H3><A NAME="C_OPTION">色演算機能</A></H3>
<P>
　描画色と元画像の色の関係を設定します。
</P>
<center><IMG SRC="coption.gif"></center><BR>
<P>
　Editメニューから色オプションを選ぶと、上図のダイアログが開きます。<BR>
　上から黒,濃,薄,白と4つの描画色があり、それぞれに4つの元画像の色に対するチェックボックスがあります。上図では、描画色＝濃では背景色＝黒はチェックされておらず、元画像の色＝薄、白はチェックされています。<BR><BR>
　ここで、例を見てください。<BR>
</P>
<center><IMG SRC="copt1.gif"></center><BR>
<P>
　黒・薄の上に濃で描画した場合ですが、通常では上のように黒・薄の上に濃で描画してしまいます。しかし、色オプションで、描画色＝濃に対して元画像の色＝薄に対するチェックを外すと、下のように薄には描画を行いません。<BR>
　このように、元画像の色に対して描画色で描画を行う/行わないを自由に設定することが出来ます。<BR><BR>

　さらに、色演算機能の便利な使用方法をいくつか紹介します。<BR><BR>

 (i) 黒の輪郭線に、色を塗る例です。<BR>
</P>
<center><IMG SRC="copt2.gif"></center><BR>
<P>
　上図(上)の輪郭線に色を塗る場合、色オプションで描画色＝濃・薄で元画像の色＝黒のチェックを外しておくと、
輪郭線はそのままで色を塗ることが出来ます。<BR><BR>


 (ii) 薄で影を付けた上に、濃で2段影をつける例です。<BR>
</P>
<center><IMG SRC="copt3.gif"></center><BR>
<P>
　色オプションを設定しないと、左下のように黒や白の上にも濃を塗ってしまうため、修正が面倒です。<BR>
　色オプションで、描画色＝濃で元画像の色＝黒・白はチェックを外し、薄にだけチェックをしておくと、黒・白に対しては描画を行わず薄にだけ描画を行うので、はみ出す心配なく濃を描くことが出来ます。<BR><BR>

</P>

<H2>5. パソコンとのデータコンバートについて</H2>
<P>
　パソコンとのデータのやり取りでの注意事項です。<BR>
　WindowsCEの扱う4階調データは2bpフォーマットというBMPの一種です。2bpでは4つの24ビットパレットデータを格納しています。<BR>
　CEサービスでbmp⇔2bpの変換（と転送）を行う際には、以下のパレットデータが埋め込まれている必要があります。本プログラムでは、このデータを採用しています。<BR>
</P>
<center>
<TABLE BORDER>
<TR><TD>黒</TD><TD>{ 0x00, 0x00, 0x00 }</TD></TR>
<TR><TD>濃</TD><TD>{ 0x80, 0x80, 0x80 }</TD></TR>
<TR><TD>薄</TD><TD>{ 0xC0, 0xC0, 0xC0 }</TD></TR>
<TR><TD>白</TD><TD>{ 0xFF, 0xFF, 0xFF }</TD></TR>
</TABLE>
</center><BR>
<P>
　ただし、一部のアプリケーションでは、2bpやbmpに以下のようなパレットデータを埋め込んでしまいます。
</P>
<center>
<TABLE BORDER>
<TR><TD>黒</TD><TD>{ 0x00, 0x00, 0x00 }</TD></TR>
<TR><TD>濃</TD><TD>{ 0x55, 0x55, 0x55 }</TD></TR>
<TR><TD>薄</TD><TD>{ 0xAA, 0xAA, 0xAA }</TD></TR>
<TR><TD>白</TD><TD>{ 0xFF, 0xFF, 0xFF }</TD></TR>
</TABLE>
</center><BR>
<P>
　これらのデータをCEサービスで変換転送した場合、変換が正しく行われず、色化けなどが起こってしまうことがあります。これはCEサービスの不備と言ってもいいと思います。<BR>
　本プログラムとCEサービスの間だけでデータをやり取りするだけであれば問題ないのですが、前述の異なるパレットデータを埋め込むアプリケーションとでやり取りをした場合、画像データが正常に扱えなくなります。<BR>
　当方ではこれに対する解決方法をまだ確立できていません。バイナリエディタで書き換えることで対処しているのが現状です。スマートな解決方法がありましたら、御連絡ください。
</P>

<H2>6. Tips</H2>
<P>
<UL>
<LI> 画面をタップしたときにサウンドを鳴らす設定にしていると、ペン描画が汚くなることがあります。
     その場合は、システム側の設定でサウンドオフにしてください。
<LI> 機種によっては、筆圧が弱いと描画が期待しない動作になる場合があります。その場合は、筆圧を強めにして書いてください。
<LI> タスクバーを自動的に隠す設定にして本プログラムを起動すると、描画エリアをタスクバーの分だけ広く取ることが出来ます。
</UL>
</P>

<H2>7. 注意事項</H2>
<P>
　以下に、本プログラムの注意事項を示します。
<OL>
<LI>本ソフトウェアはフリーウェアです。
<LI>本ソフトウェアをインストール・動作させたことにより何か不具合が起ったとしても、当方は一切の責任を持ちません。動作確認はきちんと行っていますが、あくまでも各自の責任において、インストールを行って下さい。
<LI>本ソフトウェアを使用したことにより、ＰＤＡ本体のデータなどが消失する可能性がないとは言えません。システムやデータのバックアップをなるべく取っておくことを心がけてください。
<LI>非営利目的による個人間の再配布は制限しません。いくらでも、興味の有る人にデモ＆コピーしてあげて下さい。なお、他サイトやＢＢＳへの転載については、こちらまでご連絡下さい。
<LI>本ソフトウェアはフリーウェアとして流通させていますが、そのソフトの著作権については放棄していません。よって、ソフトウェア、ドキュメントに関する改編は禁じさせていただきます。
</OL>
</P>

<H2>8. 変更履歴</H2>
<P>

ver1.0→1.00a
<UL>
 <LI>ツール選択ボタンにアイコン絵を追加
 <LI>各種バグフィックス
</UL>
</P>
<P>
ver1.00a→1.1
<UL>
 <LI>MagicWand,Reverse,TraceEdge,OmitWhite,Expandを追加
 <LI>各種バグフィックス
</UL>
</P>
<P>
ver1.1→1.12
<UL>
 <LI>ルーペでの原寸表示を各倍率で個別に設定できるよう変更
 <LI>JINZO Viewerとのリンク機能を搭載
 <LI>各種バグフィックス
</UL>
<p>
ver1.12→1.13
<UL>
 <LI>カスタムトーン機能を搭載
</UL>
</P>
<P>
ver1.13→1.14
<UL>
 <LI>tGetFile.dllに対応
</UL>
</P>
<H2>9. 連絡先</H2>
<P>
　ご意見、御感想などがありましたら、作者までお願いします。<BR><BR>
　　　　名前：上野　智弘<BR>
　　　　e-mail：<A HREF="mailto:t-ueno@mtc.biglobe.ne.jp">t-ueno@mtc.biglobe.ne.jp</A><BR>
　　　　ホームページ：<A HREF="http://users.goo.ne.jp/t-ueno">Tomohiro Ueno HomePage</A><BR>
</P>

<H2>10. 謝辞</H2>
<P>
　このプログラム作成にあたり、以下の方々にお世話になりました。
<UL>
<LI> <A HREF="http://www.tt.rim.or.jp/~yamacha">yamacha</A>：企画、仕様検討、動作確認
<LI> <A HREF="http://www.scargo.com/pae">ぱえ</A>：仕様検討、動作確認
<LI> <A HREF="http://www2e.biglobe.ne.jp/~ichise">いちせ</A>：仕様検討、動作確認
<LI> <A HREF="http://www2q.biglobe.ne.jp/%7Ecoolly/index.html">coolly</A>：仕様検討、動作確認
<LI> <A HREF="http://village.infoweb.ne.jp/~fxba0022/">sugich</A>：仕様検討、ドキュメント整備
<LI> <A HREF="http://www.alles.or.jp/~hidetosh/index3.htm">BAB</A>：動作確認
</UL>
</P>
<P>
このドキュメントの画面キャプチャ画像は、CaptCEにて取り込みました。また、画面キャプチャ画像の赤色文字は説明のために、別途書き足したものです。
</P>

<BR><BR>
<DIV CLASS="foot">
お気づきの点がありましたら、<A HREF="mailto:t-ueno@mtc.biglobe.ne.jp">
t-ueno@mtc.biglobe.ne.jp</A>まで
</DIV>
</BODY>
</HTML>
